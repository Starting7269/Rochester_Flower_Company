<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact – Rochester Flower Company</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="dark light">
  <meta name="description" content="Contact Rochester Flower Company. Reach out if you rely on cannabis as medicine.">
  
  <!-- Enhanced Security Headers -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self' https://formsubmit.co; frame-ancestors 'none'; base-uri 'self'; form-action 'self' https://formsubmit.co;">
  <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload">
  <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=(), payment=(), usb=(), magnetometer=(), gyroscope=()">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="X-XSS-Protection" content="1; mode=block">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://rochesterflowercompany.com/contact.html">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="shortcut icon" type="image/png" href="favicon.png">
  <link rel="apple-touch-icon" href="favicon.png">
  
  <link rel="stylesheet" href="style.css">
  
  <style>
    /* Form styling to match brand */
    .contact-form {
      background: radial-gradient(circle at top left, rgba(244, 114, 182, 0.14), rgba(15, 23, 42, 0.98));
      border-radius: var(--radius-lg);
      padding: var(--space-lg);
      border: 1px solid var(--color-border);
      box-shadow: var(--shadow-soft);
      max-width: 600px;
      margin: 0 auto;
    }
    
    .form-group {
      margin-bottom: var(--space-md);
    }
    
    .form-label {
      display: block;
      font-weight: 600;
      margin-bottom: var(--space-xs);
      color: var(--color-text);
      font-size: 0.9rem;
    }
    
    .form-label .required {
      color: var(--color-primary);
    }
    
    .form-input,
    .form-textarea,
    .form-select {
      width: 100%;
      padding: 0.75rem 1rem;
      background: rgba(15, 23, 42, 0.6);
      border: 1px solid rgba(129, 140, 248, 0.5);
      border-radius: var(--radius-md);
      color: var(--color-text);
      font-size: 1rem;
      font-family: inherit;
      transition: border-color 0.2s ease, background 0.2s ease;
    }
    
    .form-input:focus,
    .form-textarea:focus,
    .form-select:focus {
      outline: none;
      border-color: var(--color-primary);
      background: rgba(15, 23, 42, 0.8);
    }
    
    .form-textarea {
      min-height: 150px;
      resize: vertical;
    }
    
    .form-help {
      font-size: 0.8rem;
      color: var(--color-muted);
      margin-top: var(--space-xs);
      font-style: italic;
    }
    
    .form-error {
      color: var(--color-primary);
      font-size: 0.85rem;
      margin-top: var(--space-xs);
      display: none;
    }
    
    .form-group.error .form-error {
      display: block;
    }
    
    .form-group.error .form-input,
    .form-group.error .form-textarea,
    .form-group.error .form-select {
      border-color: var(--color-primary);
    }
    
    .btn-submit {
      width: 100%;
      padding: 1rem;
      background: radial-gradient(circle at top left, var(--color-primary-soft), var(--color-primary));
      border: none;
      border-radius: 999px;
      color: #111827;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
      box-shadow: var(--shadow-soft);
    }
    
    .btn-submit:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 22px 52px rgba(0, 0, 0, 0.9);
    }
    
    .btn-submit:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    /* Honeypot - hide from humans, visible to bots */
    .honeypot {
      position: absolute;
      left: -9999px;
      width: 1px;
      height: 1px;
    }
    
    @media (max-width: 720px) {
      .contact-form {
        padding: var(--space-md);
      }
    }
  </style>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <div class="bg-animation" aria-hidden="true"></div>

  <header class="site-header">
    <div class="container header-inner">
      <a href="index.html" class="brand" aria-label="Rochester Flower Company Home">
        <img src="RFCLogo.png" alt="Rochester Flower Company logo featuring cannabis leaf design" class="brand-logo" width="56" height="56" loading="eager">
        <span class="brand-text">
          <span class="brand-title">Rochester Flower Company</span>
          <span class="brand-tagline">We're Different, By Design.</span>
        </span>
      </a>
      <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
        <span class="nav-toggle-bar"></span>
        <span class="nav-toggle-bar"></span>
      </button>
      <nav class="site-nav" aria-label="Primary navigation">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="plants.html">Plants</a></li>
          <li><a href="craft.html">Craft Process</a></li>
          <li><a href="contact.html" class="active" aria-current="page">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="page-main" id="main-content">
    <section class="page-hero" aria-labelledby="page-title">
      <div class="container narrow">
        <h1 id="page-title">Get in Touch</h1>
        <p>
          If you rely on cannabis to get through the day but the price tag keeps fighting you,
          you're exactly the kind of person I had in mind when I built this grow.
        </p>
      </div>
    </section>

    <section class="section">
      <div class="container narrow">
        <!-- Success Message -->
        <div id="successMessage" style="display: none; background: radial-gradient(circle at top left, rgba(34, 197, 94, 0.2), rgba(15, 23, 42, 0.95)); border: 1px solid rgba(34, 197, 94, 0.5); border-radius: var(--radius-lg); padding: var(--space-lg); margin-bottom: var(--space-lg); text-align: center;">
          <h2 style="color: #4ade80; margin-bottom: var(--space-sm); font-size: 1.5rem;">✓ Message Sent Successfully!</h2>
          <p style="color: var(--color-text); margin-bottom: 0;">Thank you for reaching out. We'll review your message and get back to you as soon as possible.</p>
        </div>

        <!-- Error Message -->
        <div id="errorMessage" style="display: none; background: radial-gradient(circle at top left, rgba(239, 68, 68, 0.2), rgba(15, 23, 42, 0.95)); border: 1px solid rgba(239, 68, 68, 0.5); border-radius: var(--radius-lg); padding: var(--space-lg); margin-bottom: var(--space-lg); text-align: center;">
          <h2 style="color: #f87171; margin-bottom: var(--space-sm); font-size: 1.5rem;">Oops! Something went wrong</h2>
          <p style="color: var(--color-text); margin-bottom: 0;">Please try again later. If the problem persists, the contact form will be restored as soon as possible.</p>
        </div>

        <form 
          id="contactForm" 
          class="contact-form" 
          action="https://formsubmit.co/d176036c453fcdd164e2b55243c57632" 
          method="POST"
          novalidate>
          
          <!-- FormSubmit Configuration (hidden fields) -->
          <input type="hidden" name="_subject" value="New Contact Form Submission - Rochester Flower Company">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_template" value="table">
          <input type="text" name="_honey" class="honeypot" tabindex="-1" autocomplete="off">
          
          <!-- Name Field -->
          <div class="form-group">
            <label for="name" class="form-label">
              Name <span class="required">*</span>
            </label>
            <input 
              type="text" 
              id="name" 
              name="name" 
              class="form-input" 
              required
              maxlength="100"
              placeholder="Your name">
            <span class="form-error">Please enter your name</span>
          </div>

          <!-- Email Field -->
          <div class="form-group">
            <label for="email" class="form-label">
              Email <span class="required">*</span>
            </label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              class="form-input" 
              required
              placeholder="your.email@example.com">
            <span class="form-help">So we can reply to you</span>
            <span class="form-error">Please enter a valid email address</span>
          </div>

          <!-- Age Field -->
          <div class="form-group">
            <label for="age" class="form-label">
              Age <span class="required">*</span>
            </label>
            <input 
              type="number" 
              id="age" 
              name="age" 
              class="form-input" 
              required
              min="21"
              max="120"
              placeholder="Must be 21+">
            <span class="form-help">You must be 21 or older</span>
            <span class="form-error">You must be at least 21 years old</span>
          </div>

          <!-- Location Field -->
          <div class="form-group">
            <label for="location" class="form-label">
              Location <span class="required">*</span>
            </label>
            <input 
              type="text" 
              id="location" 
              name="location" 
              class="form-input" 
              required
              maxlength="100"
              placeholder="Rochester area, NY">
            <span class="form-help">General area (city/region) - we operate in Rochester, NY and surrounding areas</span>
            <span class="form-error">Please enter your general location</span>
          </div>

          <!-- Message Field -->
          <div class="form-group">
            <label for="message" class="form-label">
              Message <span class="required">*</span>
            </label>
            <textarea 
              id="message" 
              name="message" 
              class="form-textarea" 
              required
              minlength="20"
              maxlength="2000"
              placeholder="Tell us about yourself and how cannabis helps you..."></textarea>
            <span class="form-help">Please share how cannabis helps you (minimum 20 characters)</span>
            <span class="form-error">Please enter at least 20 characters</span>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn-submit" id="submitBtn">
            Send Message
          </button>
        </form>

        <!-- Important Notice -->
        <div class="notice" style="margin-top: var(--space-lg);">
          <p><strong>What to expect after you reach out:</strong></p>
          <p style="margin-top: 0.5rem;">
            Expect a conversation—not a transaction. I'm looking for people who genuinely rely on cannabis as medicine, 
            not folks building a stash. This is a garden, not a dispensary, and I can't help everyone who asks.
          </p>
          <p style="margin-top: 0.75rem;">
            This project is small, and I can't promise I'll always have flower available or be able
            to help everyone who reaches out. I also can't give medical advice or tell you what
            you should do with your health—please talk to a licensed professional for that part.
          </p>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="section section-alt">
      <div class="container narrow">
        <h2>Common Questions</h2>
        
        <div style="margin-top: var(--space-md);">
          <h3 style="font-size: 1.1rem; margin-bottom: var(--space-xs);">What strains do you grow?</h3>
          <p style="margin-bottom: var(--space-md);">
            It varies by season and seed availability. Check the Plants page for current runs. I prioritize genetics 
            from reputable breeders over specific strain requests.
          </p>

          <h3 style="font-size: 1.1rem; margin-bottom: var(--space-xs);">Do you deliver?</h3>
          <p style="margin-bottom: var(--space-md);">
            This is a small, personal operation. Logistics are worked out case-by-case for those in the Rochester area 
            who genuinely benefit from what I'm growing.
          </p>

          <h3 style="font-size: 1.1rem; margin-bottom: var(--space-xs);">Can I pay you or donate?</h3>
          <p style="margin-bottom: var(--space-md);">
            No. This follows NY's gifting laws—no payment, trades, or exchanges of value for cannabis. 
            If you want to support the garden itself, visit the Support page.
          </p>

          <h3 style="font-size: 1.1rem; margin-bottom: var(--space-xs);">Is this legal?</h3>
          <p>
            Yes. NY allows adults 21+ to gift cannabis to other adults without compensation under personal cultivation 
            laws (NY Penal Law § 222.05). This isn't a business—it's a personal garden.
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>&copy; <span id="year">2025</span> Rochester Flower Company</p>
      <p class="footer-small">
        Rochester Flower Company is a personal, small-scale home grow operating in Rochester, NY and surrounding areas. 
        All cannabis is gifted at no cost and only to adults 21+, consistent with New York personal cultivation laws 
        (NY Penal Law § 222.05). Recipients must also be compliant with local possession laws. No sales, transactions, 
        or commercial activity occur. All information is for educational and entertainment purposes only and should not 
        be interpreted as medical or professional advice.
      </p>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
    // Form validation and AJAX submission
    (function() {
      var form = document.getElementById('contactForm');
      var submitBtn = document.getElementById('submitBtn');
      var successMessage = document.getElementById('successMessage');
      var errorMessage = document.getElementById('errorMessage');
      
      form.addEventListener('submit', async function(e) {
        e.preventDefault(); // Prevent default form submission
        
        var isValid = true;
        
        // Clear previous errors
        var errorGroups = form.querySelectorAll('.form-group.error');
        errorGroups.forEach(function(group) {
          group.classList.remove('error');
        });
        
        // Hide any previous messages
        successMessage.style.display = 'none';
        errorMessage.style.display = 'none';
        
        // Validate name
        var nameInput = document.getElementById('name');
        if (!nameInput.value.trim()) {
          nameInput.closest('.form-group').classList.add('error');
          isValid = false;
        }
        
        // Validate email
        var emailInput = document.getElementById('email');
        var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(emailInput.value)) {
          emailInput.closest('.form-group').classList.add('error');
          isValid = false;
        }
        
        // Validate age (must be 21+)
        var ageInput = document.getElementById('age');
        var age = parseInt(ageInput.value);
        if (isNaN(age) || age < 21) {
          ageInput.closest('.form-group').classList.add('error');
          isValid = false;
        }
        
        // Validate location
        var locationInput = document.getElementById('location');
        if (!locationInput.value.trim()) {
          locationInput.closest('.form-group').classList.add('error');
          isValid = false;
        }
        
        // Validate message (minimum 20 characters)
        var messageInput = document.getElementById('message');
        if (messageInput.value.trim().length < 20) {
          messageInput.closest('.form-group').classList.add('error');
          isValid = false;
        }
        
        if (!isValid) {
          // Scroll to first error
          var firstError = form.querySelector('.form-group.error');
          if (firstError) {
            firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
          return false;
        }
        
        // Disable submit button to prevent double submission
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
        
        // Submit form via AJAX
        try {
          var response = await fetch(form.action, {
            method: 'POST',
            body: new FormData(form),
            headers: {
              'Accept': 'application/json'
            }
          });
          
          if (response.ok) {
            // Show success message
            successMessage.style.display = 'block';
            form.reset();
            
            // Scroll to success message
            successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // Re-enable button after success
            submitBtn.disabled = false;
            submitBtn.textContent = 'Send Message';
          } else {
            throw new Error('Form submission failed');
          }
        } catch (error) {
          // Show error message
          errorMessage.style.display = 'block';
          errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
          
          // Re-enable button
          submitBtn.disabled = false;
          submitBtn.textContent = 'Send Message';
        }
      });
      
      // Real-time validation feedback
      var inputs = form.querySelectorAll('.form-input, .form-textarea, .form-select');
      inputs.forEach(function(input) {
        input.addEventListener('blur', function() {
          var group = this.closest('.form-group');
          
          if (this.id === 'email') {
            var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(this.value)) {
              group.classList.add('error');
            } else {
              group.classList.remove('error');
            }
          } else if (this.id === 'age') {
            var age = parseInt(this.value);
            if (isNaN(age) || age < 21) {
              group.classList.add('error');
            } else {
              group.classList.remove('error');
            }
          } else if (this.id === 'message') {
            if (this.value.trim().length < 20) {
              group.classList.add('error');
            } else {
              group.classList.remove('error');
            }
          } else if (this.hasAttribute('required')) {
            if (!this.value.trim()) {
              group.classList.add('error');
            } else {
              group.classList.remove('error');
            }
          }
        });
      });
    })();
  </script>
</body>
</html>
